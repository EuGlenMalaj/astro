---
import { client } from "../client";
import PrismicDOM from "prismic-dom";
import { getYear } from "../utils";
import BaseLayout from "../layouts/BaseLayout.astro";
import TimeLineElement from "../components/resume/TimeLine.astro";
const resumeItems = await client.getAllByType("cv_entry");
const education = resumeItems.filter((item) => item.data.type === "education").map(({data}) => data);
const experience = resumeItems.filter((item) => item.data.type === "experience").map(({data}) => data);
const certifications = resumeItems.filter((item) => item.data.type === "certification").map(({data}) => data);
const skills = resumeItems.filter((item) => item.data.type === "skill").map(({data}) => data);
const languages = resumeItems.filter((item) => item.data.type === "language").map(({data}) => data);
---

<BaseLayout title="Euglen Malaj | Resume" location="/resume">
  <div class="mb-5">
    <div class="text-3xl w-full font-bold">Resume</div>
  </div>

  <div class="mb-10 text-justify">
    Engineer in Informatics Science with 6 years + of experience in software development. Dominion of various programming
    languages, frameworks, CMS and graphics engines. Experience in WEB design and development. Work with Data Base handled
    systems, as well as design, normalization and migration. Knowledge of work with graphic design tools for image
    manipulation , User Interfaces design, Web sites, logos and other ones.
  </div>

  <div class="mb-5">
    <div class="text-3xl w-full font-bold">Education</div>
  </div>

  <div class="time-line-container grid gap-4 mb-10">
    {education.map((item) => (
      <TimeLineElement
        title={PrismicDOM.RichText.asText(item.title)}
        subtitle={`${getYear(item.start_date)} to ${getYear(item.end_date)} at ${PrismicDOM.RichText.asText(item.institution)}`}
        desc={PrismicDOM.RichText.asText(item.description)}
      />
    ))}
  </div>

  <div class="mb-5">
    <div class="text-3xl w-full font-bold">Experience</div>
  </div>

  <div class="time-line-container mb-10">
    {experience.map((item) => (
      <TimeLineElement
        title={PrismicDOM.RichText.asText(item.title)}
        subtitle={`${getYear(item.start_date)} to ${getYear(item.end_date)} at ${PrismicDOM.RichText.asText(item.institution)}`}
        desc={PrismicDOM.RichText.asText(item.description)}
      />
    ))}
  </div>

  <div class="mb-5">
    <div class="text-3xl w-full font-bold">Certifications</div>
  </div>

  <div class="time-line-container mb-10">
    {certifications.map((item) => (
      <TimeLineElement
        title={PrismicDOM.RichText.asText(item.title)}
        subtitle={`${getYear(item.start_date)} to ${getYear(item.end_date)} at ${PrismicDOM.RichText.asText(item.institution)}`}
        desc={PrismicDOM.RichText.asText(item.description)}
      />
    ))}
  </div>

  <div class="mb-5">
    <div class="text-3xl w-full font-bold">Languages</div>
  </div>

  <ul class="list-disc mx-6 mb-10">
    {languages.map((item) => (
      <li class="mb-2">{PrismicDOM.RichText.asText(item.title)}</li>
    ))}
  </ul> 

  <div class="mb-5">
    <div class="text-3xl w-full font-bold">Skills</div>
  </div>

  <ul class="list-disc mx-6">
    {skills.map((item) => (
      <li class="mb-2">{PrismicDOM.RichText.asText(item.title)}</li>
    ))}
  </ul>
</BaseLayout>
